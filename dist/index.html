<!DOCTYPE html><html lang="vi"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Backend/Fullstack Developer"><title>Nguyễn Hoàng Tín | Portfolio</title><link rel="icon" href="/avatar.png" type="image/png"><link rel="apple-touch-icon" href="/avatar.png"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap&subset=vietnamese" rel="stylesheet"><link rel="stylesheet" href="/_astro/index.Bl2E8C7I.css">
<link rel="stylesheet" href="/_astro/index.DIltoKk-.css"></head> <body> <!-- Sidebar Navigation with Language Switcher --> <div class="sidebar-nav"> <!-- Navigation Icons --> <ul id="sidebar" class="sidebar-list"> <li data-menuanchor="home" class="active"> <button aria-label="Home"> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="house" class="sidebar-icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"> <path fill="currentColor" d="M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"></path> </svg> </button> </li> <li data-menuanchor="du-an"> <button aria-label="Projects"> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="folder-open" class="sidebar-icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"> <path fill="currentColor" d="M88.7 223.8L0 375.8 0 96C0 60.7 28.7 32 64 32l117.5 0c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7L416 96c35.3 0 64 28.7 64 64l0 32-336 0c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224l400 0c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480L32 480c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z"></path> </svg> </button> </li> <li data-menuanchor="kinh-nghiem"> <button aria-label="Experience"> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="user" class="sidebar-icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"> <path fill="currentColor" d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"></path> </svg> </button> </li> <li data-menuanchor="lien-he"> <button aria-label="Contact"> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="sidebar-icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"> <path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"></path> </svg> </button> </li> </ul> <!-- Language Switcher --> <button id="lang-switcher" class="lang-switcher" aria-label="Switch language" title="Switch language"> <span class="globe-icon"> <svg height="16" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="16" class="globe-svg"> <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM5.78 8.75a9.64 9.64 0 0 0 1.363 4.177c.255.426.542.832.857 1.215.245-.296.551-.705.857-1.215A9.64 9.64 0 0 0 10.22 8.75Zm4.44-1.5a9.64 9.64 0 0 0-1.363-4.177c-.307-.51-.612-.919-.857-1.215a9.927 9.927 0 0 0-.857 1.215A9.64 9.64 0 0 0 5.78 7.25Zm-5.944 1.5H1.543a6.507 6.507 0 0 0 4.666 5.5c-.123-.181-.24-.365-.352-.552-.715-1.192-1.437-2.874-1.581-4.948Zm-2.733-1.5h2.733c.144-2.074.866-3.756 1.58-4.948.12-.197.237-.381.353-.552a6.507 6.507 0 0 0-4.666 5.5Zm10.181 1.5c-.144 2.074-.866 3.756-1.58 4.948-.12.197-.237.381-.353.552a6.507 6.507 0 0 0 4.666-5.5Zm2.733-1.5a6.507 6.507 0 0 0-4.666-5.5c.123.181.24.365.353.552.714 1.192 1.436 2.874 1.58 4.948Z"></path> </svg> </span> <span class="lang-option" data-lang="vi"> <span class="text">VI</span> </span> <span class="lang-separator">|</span> <span class="lang-option" data-lang="en"> <span class="text">EN</span> </span> </button> </div> <main>  <div id="fullpage"> <!-- Section 1: Hero --> <div id="home" class="section active" data-anchor="home"> <section class="hero" id="gioi-thieu" data-astro-cid-bbe6dxrz> <div class="intro" data-slide-in="right" data-astro-cid-bbe6dxrz> <h1 data-i18n="hero.name" data-astro-cid-bbe6dxrz>Nguyễn Hoàng Tín</h1> <p class="subtitle" data-i18n="hero.summary" data-astro-cid-bbe6dxrz>Backend/Fullstack Developer chuyên phát triển hệ thống lớn, thành thạo .NET, Java/Spring Boot, Microservices, SQL/NoSQL, hướng đến dự án phức tạp và môi trường chuyên nghiệp.</p> <div class="bio" data-astro-cid-bbe6dxrz> <p data-astro-cid-bbe6dxrz><strong data-i18n="hero.highlights.frontend" data-astro-cid-bbe6dxrz>Frontend:</strong> <span data-i18n="hero.highlights.frontendContent" data-astro-cid-bbe6dxrz>Angular, Bootstrap, HTML/CSS/JS</span></p> <p data-astro-cid-bbe6dxrz><strong data-i18n="hero.highlights.backend" data-astro-cid-bbe6dxrz>Backend:</strong> <span data-i18n="hero.highlights.backendContent" data-astro-cid-bbe6dxrz>.NET, Java, Spring Boot, Microservices, Oracle, MongoDB</span></p> <p data-astro-cid-bbe6dxrz><strong data-i18n="hero.highlights.devops" data-astro-cid-bbe6dxrz>DevOps &amp; Tools:</strong> <span data-i18n="hero.highlights.devopsContent" data-astro-cid-bbe6dxrz>Git, Jira, Docker</span></p> <p data-astro-cid-bbe6dxrz><strong data-i18n="hero.highlights.english" data-astro-cid-bbe6dxrz>Tiếng Anh:</strong> <span data-i18n="hero.highlights.englishContent" data-astro-cid-bbe6dxrz>Đọc tài liệu kỹ thuật, giao tiếp công việc cơ bản</span></p> <p data-astro-cid-bbe6dxrz><strong data-i18n="hero.highlights.other" data-astro-cid-bbe6dxrz>Khác:</strong> <span data-i18n="hero.highlights.otherContent" data-astro-cid-bbe6dxrz>Thuyết trình, Giảng viên nội bộ, Scrum</span></p> </div> </div> <div class="card" data-slide-in="left" data-astro-cid-bbe6dxrz> <div class="avatar" data-astro-cid-bbe6dxrz> <span class="ring" data-astro-cid-bbe6dxrz> <img src="/avatar.png" width="260" height="260" data-i18n-attr="alt:hero.avatarAlt" alt="Ảnh hồ sơ của Nguyễn Hoàng Tín" loading="lazy" data-astro-cid-bbe6dxrz> </span> </div> <div class="badge" data-i18n="hero.badge" data-astro-cid-bbe6dxrz>Kỹ sư lập trình</div> <div class="actions" data-astro-cid-bbe6dxrz> <a class="primary" href="https://tinnh.com/docs/nguyenhoangtin-cv.pdf" target="_blank" rel="noreferrer" data-i18n="hero.buttons.downloadCV" data-astro-cid-bbe6dxrz>Tải CV</a> <a class="primary" href="#lien-he" data-i18n="hero.buttons.contact" data-astro-cid-bbe6dxrz>Liên hệ</a> </div> </div> </section>  </div> <!-- Section 2: Projects --> <div id="du-an" class="section next" data-anchor="du-an"> <section id="du-an" class="projects-section" data-slide-in="right" data-astro-cid-amng4zvp> <header data-astro-cid-amng4zvp> <h2 class="fade-in-item" data-i18n="projects.title" data-fade-delay="0" data-astro-cid-amng4zvp>Dự án</h2> </header> <div class="projects-grid" data-astro-cid-amng4zvp> <article class="project-card fade-in-item" data-project-index="0" data-project-id="igate" data-fade-delay="0" data-i18n-name="projects.items.0.name" data-i18n-description="projects.items.0.description" data-i18n-period="projects.items.0.period" data-astro-cid-amng4zvp> <div class="card-background" style="background-image: url('/igate1.jpg')" data-astro-cid-amng4zvp></div> <div class="card-content" data-astro-cid-amng4zvp> <h3 data-i18n="projects.items.0.name" data-astro-cid-amng4zvp>Hệ thống Thông tin Giải quyết Thủ tục Hành chính</h3> <p class="description" data-i18n="projects.items.0.description" data-astro-cid-amng4zvp> Nền tảng dịch vụ công quy mô tỉnh trên kiến trúc microservices, tích hợp Cổng DVCQG. </p> <div class="tools" data-astro-cid-amng4zvp> <span class="tool-tag" data-astro-cid-amng4zvp>Angular</span><span class="tool-tag" data-astro-cid-amng4zvp>Java Spring Boot</span><span class="tool-tag" data-astro-cid-amng4zvp>MongoDB</span><span class="tool-tag" data-astro-cid-amng4zvp>Microservices</span> </div> </div> </article><article class="project-card fade-in-item" data-project-index="1" data-project-id="ecabinet" data-fade-delay="200" data-i18n-name="projects.items.1.name" data-i18n-description="projects.items.1.description" data-i18n-period="projects.items.1.period" data-astro-cid-amng4zvp> <div class="card-background" style="background-image: url('/ecabinet1.jpg')" data-astro-cid-amng4zvp></div> <div class="card-content" data-astro-cid-amng4zvp> <h3 data-i18n="projects.items.1.name" data-astro-cid-amng4zvp>VNPT eCabinet - Phòng họp không giấy tờ</h3> <p class="description" data-i18n="projects.items.1.description" data-astro-cid-amng4zvp> Giải pháp phòng họp không giấy cấp tỉnh, tích hợp phần cứng IoT với phần mềm quản lý. </p> <div class="tools" data-astro-cid-amng4zvp> <span class="tool-tag" data-astro-cid-amng4zvp>C#</span><span class="tool-tag" data-astro-cid-amng4zvp>.NET Framework</span><span class="tool-tag" data-astro-cid-amng4zvp>Oracle</span><span class="tool-tag" data-astro-cid-amng4zvp>IoT</span> </div> </div> </article><article class="project-card fade-in-item" data-project-index="2" data-project-id="ioffice" data-fade-delay="400" data-i18n-name="projects.items.2.name" data-i18n-description="projects.items.2.description" data-i18n-period="projects.items.2.period" data-astro-cid-amng4zvp> <div class="card-background" style="background-image: url('/ioffice1.jpg')" data-astro-cid-amng4zvp></div> <div class="card-content" data-astro-cid-amng4zvp> <h3 data-i18n="projects.items.2.name" data-astro-cid-amng4zvp>VNPT iOffice - Điều hành Văn bản</h3> <p class="description" data-i18n="projects.items.2.description" data-astro-cid-amng4zvp> Hệ thống quản lý và điều hành văn bản quy mô lớn, tích hợp quản lý và cộng tác nội bộ. </p> <div class="tools" data-astro-cid-amng4zvp> <span class="tool-tag" data-astro-cid-amng4zvp>ASP.NET</span><span class="tool-tag" data-astro-cid-amng4zvp>C#</span><span class="tool-tag" data-astro-cid-amng4zvp>DevExpress</span><span class="tool-tag" data-astro-cid-amng4zvp>Oracle</span> </div> </div> </article> </div> </section> <!-- Modal for project details --> <div id="project-modal" class="project-modal" aria-hidden="true" data-astro-cid-amng4zvp> <div class="modal-backdrop" data-modal-close data-astro-cid-amng4zvp></div> <div class="modal-sheet" role="dialog" aria-modal="true" aria-labelledby="project-modal-title" tabindex="-1" data-astro-cid-amng4zvp> <div class="modal-handle" aria-hidden="true" data-astro-cid-amng4zvp></div> <button class="modal-close" type="button" aria-label="Close modal" data-modal-close data-astro-cid-amng4zvp>&times;</button> <article class="project-detail project-detail--modal"> <header class="pd-header"> <h1 class="pd-title" data-pd-title id="project-modal-title">  </h1> <div class="pd-meta" data-pd-meta hidden>  </div> </header> <section class="pd-impact" data-pd-impact hidden> <div class="pd-impact-title">Kết quả:</div> <div class="pd-impact-body" data-pd-impact-body>  </div> </section> <section class="pd-section" data-pd-overview hidden> <h2 class="pd-section-title">Tổng quan</h2> <p class="pd-section-body" data-pd-description>  </p> </section>  <section class="pd-section" data-pd-tools hidden> <h2 class="pd-section-title">Công nghệ:</h2> <div class="pd-chips" data-pd-tools-chips>  </div> </section> <section class="pd-section" data-pd-gallery hidden> <h2 class="pd-section-title">Hình ảnh</h2> <div class="pd-carousel" data-pd-carousel> <button class="pd-carousel-btn pd-carousel-btn--prev" type="button" aria-label="Previous image" data-pd-carousel-prev>
‹
</button> <div class="pd-carousel-viewport" data-pd-gallery-grid role="region" aria-roledescription="carousel">  </div> <button class="pd-carousel-btn pd-carousel-btn--next" type="button" aria-label="Next image" data-pd-carousel-next>
›
</button> </div> </section> <div class="pd-actions"> <a class="pd-primary" data-pd-view-detail href="#"> Xem chi tiết </a> <button class="pd-secondary" type="button" data-pd-close> Đóng </button> </div> </article>  </div> </div> <script>(function(){const projectsData = "[{\"id\":\"igate\",\"name\":\"Hệ thống Thông tin Giải quyết Thủ tục Hành chính\",\"period\":\"2025 – NAY\",\"description\":\"Nền tảng dịch vụ công quy mô tỉnh trên kiến trúc microservices, tích hợp Cổng DVCQG.\",\"role\":\"Fullstack Developer\",\"tasks\":[\"Tối ưu báo cáo và hỗ trợ vận hành hệ thống.\",\"Hướng dẫn cán bộ, xử lý sự cố trong giai đoạn chuyển đổi mô hình chính quyền 02 cấp.\"],\"impact\":\"Tối ưu thời gian lấy dữ liệu báo cáo từ 3 phút xuống 60 giây.\",\"tools\":[\"Angular\",\"Java Spring Boot\",\"MongoDB\",\"Microservices\"],\"gallery\":[\"/igate1.jpg\",\"/igate2.jpg\",\"/igate3.png\"]},{\"id\":\"ecabinet\",\"name\":\"VNPT eCabinet - Phòng họp không giấy tờ\",\"period\":\"2021 – 2025\",\"description\":\"Giải pháp phòng họp không giấy cấp tỉnh, tích hợp phần cứng IoT với phần mềm quản lý.\",\"role\":\"Trưởng nhóm triển khai\",\"tasks\":[\"Triển khai và vận hành hệ thống (phần cứng + phần mềm).\",\"Điều phối nhóm 5 kỹ thuật viên, setup 1–2 kỳ họp/tháng.\",\"Hỗ trợ kỹ thuật tại hiện trường, đảm bảo hệ thống hoạt động ổn định.\"],\"impact\":\"Đảm bảo các kỳ họp HĐND ổn định, không sự cố CNTT trong 5 năm. Duy trì hợp đồng dịch vụ dài hạn cấp tỉnh.\",\"tools\":[\"C#\",\".NET Framework\",\"Oracle\",\"IoT\"],\"gallery\":[\"/ecabinet1.jpg\",\"/ecabinet2.jpg\",\"/ecabinet3.jpg\"]},{\"id\":\"ioffice\",\"name\":\"VNPT iOffice - Điều hành Văn bản\",\"period\":\"2017 – 2024\",\"description\":\"Hệ thống quản lý và điều hành văn bản quy mô lớn, tích hợp quản lý và cộng tác nội bộ.\",\"role\":\"Fullstack Developer\",\"tasks\":[\"Phát triển và nâng cấp các chức năng core: luồng xử lý văn bản, phê duyệt, ký số, tìm kiếm.\",\"Tối ưu hiệu năng truy vấn và xử lý nghiệp vụ trên hệ thống quy mô lớn.\",\"Phối hợp phân tích yêu cầu, sửa lỗi và hỗ trợ vận hành trong quá trình triển khai.\"],\"impact\":\"Tăng hiệu suất quản lý cho 10.000+ cán bộ. Phát triển và nâng cấp các chức năng core.\",\"tools\":[\"ASP.NET\",\"C#\",\"DevExpress\",\"Oracle\"],\"gallery\":[\"/ioffice1.jpg\",\"/ioffice2.jpg\",\"/ioffice3.jpg\"]}]";
const labelsData = "{\"role\":\"Vai trò:\",\"tools\":\"Công nghệ:\",\"tasks\":\"Nhiệm vụ:\",\"results\":\"Kết quả:\"}";
const actionsData = "{\"viewDetail\":\"Xem chi tiết\",\"close\":\"Đóng\",\"backToProjects\":\"Quay lại dự án\"}";
const sectionsData = "{\"overview\":\"Tổng quan\",\"gallery\":\"Hình ảnh\"}";
const galleryAltData = "\"Slide hình ảnh cho\"";

  // Store projects data for modal (parse JSON strings)
  try {
    window.projectsData = typeof projectsData === 'string' ? JSON.parse(projectsData) : projectsData;
    window.labelsData = typeof labelsData === 'string' ? JSON.parse(labelsData) : labelsData;
    window.projectActionsData = typeof actionsData === 'string' ? JSON.parse(actionsData) : actionsData;
    window.projectSectionsData = typeof sectionsData === 'string' ? JSON.parse(sectionsData) : sectionsData;
    window.projectGalleryAlt = typeof galleryAltData === 'string' ? JSON.parse(galleryAltData) : galleryAltData;
  } catch (e) {
    console.error('Error parsing projects data:', e);
    window.projectsData = [];
    window.labelsData = {};
    window.projectActionsData = {};
    window.projectSectionsData = {};
    window.projectGalleryAlt = '';
  }
})();</script> <script>
  // Load GLightbox CSS
  if (!document.querySelector('link[href*="glightbox"]')) {
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = 'https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css';
    document.head.appendChild(link);
  }

  // Load GLightbox JS
  if (!document.querySelector('script[src*="glightbox"]')) {
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js';
    script.onload = function() {
      // @ts-ignore - GLightbox is loaded dynamically
      if (typeof GLightbox !== 'undefined') {
        // @ts-ignore - GLightbox is loaded dynamically
        GLightbox({
          selector: '.glightbox',
          touchNavigation: true,
          loop: true,
          autoplayVideos: true
        });
      }
    };
    document.head.appendChild(script);
  }

  // Modal functionality
  function initModal() {
    const modal = document.getElementById('project-modal');
    if (!modal) return;

    // IMPORTANT: Move modal to <body> to escape fullpage section stacking contexts (transform)
    // Otherwise fixed elements like .sidebar-nav (outside #fullpage) can appear above the modal.
    if (modal.parentElement !== document.body) {
      document.body.appendChild(modal);
    }

    const sheet = modal.querySelector('.modal-sheet');
    const closeButtons = modal.querySelectorAll('[data-modal-close], [data-pd-close]');
    const projectCards = document.querySelectorAll('.project-card');

    if (!sheet) return;

    // Cache modal fields from ProjectDetail (variant="modal")
    const titleEl = modal.querySelector('[data-pd-title]');
    const metaEl = modal.querySelector('[data-pd-meta]');
    const impactSection = modal.querySelector('[data-pd-impact]');
    const impactBody = modal.querySelector('[data-pd-impact-body]');
    const overviewSection = modal.querySelector('[data-pd-overview]');
    const descEl = modal.querySelector('[data-pd-description]');
    const tasksSection = modal.querySelector('[data-pd-tasks]');
    const tasksList = modal.querySelector('[data-pd-tasks-list]');
    const toolsSection = modal.querySelector('[data-pd-tools]');
    const toolsChips = modal.querySelector('[data-pd-tools-chips]');
    const gallerySection = modal.querySelector('[data-pd-gallery]');
    const galleryGrid = modal.querySelector('[data-pd-gallery-grid]');
    const galleryPrevBtn = modal.querySelector('[data-pd-carousel-prev]');
    const galleryNextBtn = modal.querySelector('[data-pd-carousel-next]');
    const viewDetailLink = modal.querySelector('[data-pd-view-detail]');

    let lastFocusedEl = null;

    function getCurrentLang() {
      try {
        if (typeof window.getCurrentLang === 'function') return window.getCurrentLang();
      } catch {}
      const urlParams = new URLSearchParams(window.location.search);
      const langParam = urlParams.get('lang');
      if (langParam === 'vi' || langParam === 'en') return langParam;
      const stored = localStorage.getItem('lang');
      if (stored === 'vi' || stored === 'en') return stored;
      return 'vi';
    }

    function buildDetailUrl(projectId) {
      const lang = getCurrentLang();
      return `/projects/${encodeURIComponent(projectId)}?lang=${encodeURIComponent(lang)}`;
    }

    function setHidden(el, hidden) {
      if (!el) return;
      el.hidden = !!hidden;
    }

    function clearChildren(el) {
      if (!el) return;
      while (el.firstChild) el.removeChild(el.firstChild);
    }

    function getProjectById(projectId) {
      const projects = window.projectsData || [];
      return projects.find(p => p && p.id === projectId) || null;
    }

    function renderProjectToModal(project) {
      if (!project) return;

      // Title
      if (titleEl) titleEl.textContent = project.name || '';

      // Popup spec: hide meta (period/role) for a cleaner quick view
      clearChildren(metaEl);
      if (metaEl) metaEl.hidden = true;

      // Impact
      const hasImpact = !!project.impact;
      setHidden(impactSection, !hasImpact);
      if (impactBody) impactBody.textContent = project.impact || '';

      // Overview
      const hasDesc = !!project.description;
      setHidden(overviewSection, !hasDesc);
      if (descEl) descEl.textContent = project.description || '';

      // Popup spec: do not show tasks in modal quick view
      setHidden(tasksSection, true);
      clearChildren(tasksList);

      // Tools
      const hasTools = Array.isArray(project.tools) && project.tools.length > 0;
      setHidden(toolsSection, !hasTools);
      clearChildren(toolsChips);
      if (hasTools && toolsChips) {
        project.tools.forEach((tool) => {
          const chip = document.createElement('span');
          chip.className = 'pd-chip';
          chip.textContent = tool;
          toolsChips.appendChild(chip);
        });
      }

      // Gallery
      const hasGallery = Array.isArray(project.gallery) && project.gallery.length > 0;
      setHidden(gallerySection, !hasGallery);
      clearChildren(galleryGrid);
      if (hasGallery && galleryGrid) {
        const galleryAlt = window.projectGalleryAlt || 'Image slide for';
        project.gallery.forEach((src, idx) => {
          const a = document.createElement('a');
          a.className = 'pd-slide glightbox';
          a.href = src;
          a.setAttribute('data-gallery', `gallery-${project.id || 'project'}`);

          const img = document.createElement('img');
          img.src = src;
          img.alt = `${galleryAlt} ${project.name || ''} - ${idx + 1}`;
          img.loading = 'lazy';
          a.appendChild(img);
          galleryGrid.appendChild(a);
        });
      }

      // Reset carousel position to the start
      try {
        if (galleryGrid && typeof galleryGrid.scrollTo === 'function') {
          galleryGrid.scrollTo({ left: 0, behavior: 'auto' });
        }
      } catch {}

      // View detail link
      if (viewDetailLink && project.id) {
        viewDetailLink.setAttribute('href', buildDetailUrl(project.id));
      }

      // Reinitialize GLightbox for new gallery
      // @ts-ignore
      if (typeof GLightbox !== 'undefined') {
        // @ts-ignore
        GLightbox({ selector: '.glightbox', touchNavigation: true, loop: true, autoplayVideos: true });
      }
    }

    // Carousel controls (desktop): jump exactly 1 slide per click
    function jumpSlide(direction) {
      if (!galleryGrid) return;
      const page = galleryGrid.clientWidth || 1;
      const current = Math.round(galleryGrid.scrollLeft / page);
      const slides = galleryGrid.querySelectorAll('.pd-slide').length;
      const nextIndex = Math.max(0, Math.min(slides - 1, current + direction));
      galleryGrid.scrollTo({ left: nextIndex * page, behavior: 'auto' });
    }

    if (galleryPrevBtn) galleryPrevBtn.addEventListener('click', () => jumpSlide(-1));
    if (galleryNextBtn) galleryNextBtn.addEventListener('click', () => jumpSlide(1));

    function getFocusableElements() {
      return Array.from(
        sheet.querySelectorAll(
          'a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])'
        )
      ).filter((el) => !(el.offsetParent === null) && !el.hasAttribute('hidden'));
    }

    function trapFocus(e) {
      if (!modal.classList.contains('active')) return;
      if (e.key === 'Escape') {
        e.preventDefault();
        closeModal();
        return;
      }
      if (e.key !== 'Tab') return;

      const focusables = getFocusableElements();
      if (focusables.length === 0) return;

      const first = focusables[0];
      const last = focusables[focusables.length - 1];
      const active = document.activeElement;

      if (e.shiftKey) {
        if (active === first || !sheet.contains(active)) {
          e.preventDefault();
          last.focus();
        }
      } else {
        if (active === last) {
          e.preventDefault();
          first.focus();
        }
      }
    }

    // Open modal with project details
    function openModal(projectId) {
      const project = getProjectById(projectId);
      if (!project) return;

      lastFocusedEl = document.activeElement;
      renderProjectToModal(project);

      // Desktop fullpage: disable wheel/trackpad section switching while modal is open
      try {
        if (window.vanillaFullpage && typeof window.vanillaFullpage.setWheelEnabled === 'function') {
          window.vanillaFullpage.setWheelEnabled(false);
        }
      } catch (e) {
        // ignore
      }

      modal.classList.add('active');
      modal.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';

      // Focus the dialog container for accessibility
      setTimeout(() => sheet.focus(), 0);
      document.addEventListener('keydown', trapFocus);
    }

    // Close modal
    function closeModal() {
      modal.classList.remove('active');
      modal.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
      document.removeEventListener('keydown', trapFocus);

      // Desktop fullpage: re-enable wheel/trackpad section switching
      try {
        if (window.vanillaFullpage && typeof window.vanillaFullpage.setWheelEnabled === 'function') {
          window.vanillaFullpage.setWheelEnabled(true);
        }
      } catch (e) {
        // ignore
      }

      if (lastFocusedEl && typeof lastFocusedEl.focus === 'function') {
        setTimeout(() => lastFocusedEl.focus(), 0);
      }
    }

    // Event listeners
    projectCards.forEach((card) => {
      card.addEventListener('click', function() {
        const id = card.getAttribute('data-project-id') || '';
        if (id) openModal(id);
      });
    });

    closeButtons.forEach((btn) => btn.addEventListener('click', closeModal));

    // Click backdrop closes
    modal.addEventListener('click', (e) => {
      const target = e.target;
      if (target && target.hasAttribute && target.hasAttribute('data-modal-close')) {
        closeModal();
      }
    });
  }

  // Initialize modal - check if DOM is already loaded
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initModal);
  } else {
    // DOM is already loaded, run immediately
    initModal();
  }
</script>  </div> <!-- Section 3: Timeline --> <div id="kinh-nghiem" class="section next" data-anchor="kinh-nghiem"> <section class="timeline-section alt" data-slide-in="left" data-astro-cid-zhxkjw2l> <header data-astro-cid-zhxkjw2l> <h2 class="fade-in-item" data-i18n="timeline.title" data-fade-delay="0" data-astro-cid-zhxkjw2l>Kinh nghiệm</h2> </header> <div class="timeline" id="timeline-container" data-astro-cid-zhxkjw2l> <article class="item timeline-item fade-in-item" data-fade-delay="0" data-timeline-index="0" data-astro-cid-zhxkjw2l> <span class="year" data-i18n="timeline.items.0.year" data-astro-cid-zhxkjw2l>2017 – NAY</span> <div data-astro-cid-zhxkjw2l> <p class="company" data-i18n="timeline.items.0.company" data-astro-cid-zhxkjw2l>VNPT PHÚ YÊN - TẬP ĐOÀN BƯU CHÍNH VIỄN THÔNG VIỆT NAM</p> <h3 data-i18n="timeline.items.0.role" data-astro-cid-zhxkjw2l>NHÂN VIÊN GIẢI PHÁP CNTT / KỸ SƯ LẬP TRÌNH</h3> <ul class="tasks" data-astro-cid-zhxkjw2l> <li data-i18n="timeline.items.0.tasks.0" data-astro-cid-zhxkjw2l>Tham gia phát triển và vận hành các hệ thống phần mềm quy mô tỉnh/thành.</li><li data-i18n="timeline.items.0.tasks.1" data-astro-cid-zhxkjw2l>Đảm nhiệm vai trò chính trong phát triển backend, tối ưu hiệu năng và hỗ trợ nghiệp vụ.</li><li data-i18n="timeline.items.0.tasks.2" data-astro-cid-zhxkjw2l>Tham gia các dự án lớn: Hệ thống Dịch vụ công, Văn bản điều hành, Hóa đơn điện tử, Phòng họp không giấy,...</li><li data-i18n="timeline.items.0.tasks.3" data-astro-cid-zhxkjw2l>Áp dụng các công cụ AI vào quy trình phát triển giúp rút ngắn thời gian coding 20–30%. Nâng cao chất lượng code, phát hiện lỗi tiềm ẩn và đảm bảo tuân thủ các quy tắc của dự án.</li> </ul> <div class="achievements" data-astro-cid-zhxkjw2l> <strong data-i18n="timeline.achievements" data-astro-cid-zhxkjw2l>Thành tựu:</strong> <ul data-astro-cid-zhxkjw2l> <li data-i18n="timeline.items.0.achievements.0" data-astro-cid-zhxkjw2l>Đạt danh hiệu &quot;Chiến sỹ thi đua&quot; trong nhiều năm</li><li data-i18n="timeline.items.0.achievements.1" data-astro-cid-zhxkjw2l>Người lao động tiêu biểu năm 2021</li> </ul> </div> </div> </article> </div> </section> <script>
  // Trigger timeline line animation when section becomes active or visible
  function initTimelineAnimation() {
    const timelineSection = document.querySelector('.timeline-section');
    const timeline = document.querySelector('.timeline');
    
    if (!timelineSection || !timeline) return;

    // Function to trigger animation
    function triggerLineAnimation() {
      // Reset animation by removing and re-adding class
      timeline.classList.remove('animate-line');
      // Force reflow
      void timeline.offsetWidth;
      // Add class to trigger animation
      timeline.classList.add('animate-line');
    }

    // Check if section is already active
    const parentSection = timelineSection.closest('.section');
    if (parentSection && parentSection.classList.contains('active')) {
      setTimeout(triggerLineAnimation, 100);
    }

    // Watch for section becoming active (for desktop fullpage)
    if (parentSection) {
      const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
          if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
            if (parentSection.classList.contains('active')) {
              triggerLineAnimation();
            }
          }
        });
      });

      observer.observe(parentSection, {
        attributes: true,
        attributeFilter: ['class']
      });
    }

    // Also trigger on scroll for mobile (using Intersection Observer)
    const sectionObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting && entry.intersectionRatio > 0.3) {
          triggerLineAnimation();
          sectionObserver.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.3,
      rootMargin: '0px'
    });

    sectionObserver.observe(timelineSection);
  }

  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initTimelineAnimation);
  } else {
    setTimeout(initTimelineAnimation, 100);
  }
</script>  </div> <!-- Section 4: Contact --> <div id="lien-he" class="section next" data-anchor="lien-he"> <section id="lien-he" class="card" data-slide-in="right" data-astro-cid-h2ja5j4y> <h2 class="fade-in-item" data-i18n="contact.title" data-fade-delay="0" data-astro-cid-h2ja5j4y>Hợp tác</h2> <p class="fade-in-item" data-i18n="contact.description" data-fade-delay="200" data-astro-cid-h2ja5j4y> Cứ thoải mái liên hệ với tôi nếu bạn có bất kỳ câu hỏi nào. </p> <div class="channels" data-astro-cid-h2ja5j4y> <a class="icon fade-in-item" href="tel:+84856694766" data-i18n-attr="aria-label:contact.channels.phone" data-i18n-attr-title="title:contact.channels.phone" aria-label="SĐT" title="SĐT" data-fade-delay="0" data-astro-cid-h2ja5j4y> <span class="glyph" data-astro-cid-h2ja5j4y><svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-h2ja5j4y><path d="M2.25 4.5c0 9.112 8.138 17.25 17.25 17.25 1.243 0 2.25-1.007 2.25-2.25v-2.1c0-.77-.578-1.416-1.344-1.495l-3.313-.331a1.5 1.5 0 0 0-1.05.3l-1.2.9a12.06 12.06 0 0 1-5.4-5.4l.9-1.2c.27-.36.4-.81.35-1.26l-.33-3.3A1.5 1.5 0 0 0 8.1 3.594h-2.1A2.25 2.25 0 0 0 3.75 5.844v.406" data-astro-cid-h2ja5j4y></path></svg></span>    <span class="label" data-i18n="contact.channels.phone" data-astro-cid-h2ja5j4y>SĐT</span> </a><a class="icon fade-in-item" href="https://zalo.me/0856694766" target="_blank" rel="noreferrer" data-i18n-attr="aria-label:contact.channels.zalo" data-i18n-attr-title="title:contact.channels.zalo" aria-label="Zalo" title="Zalo" data-fade-delay="200" data-astro-cid-h2ja5j4y>  <span class="glyph" data-astro-cid-h2ja5j4y><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" data-astro-cid-h2ja5j4y><path d="M4 5a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3h-7l-4 4v-4H7a3 3 0 0 1-3-3V5Z" data-astro-cid-h2ja5j4y></path><path d="M9 8h6l-6 6h6" data-astro-cid-h2ja5j4y></path></svg></span>   <span class="label" data-i18n="contact.channels.zalo" data-astro-cid-h2ja5j4y>Zalo</span> </a><a class="icon fade-in-item" href="https://t.me/tinnh94" target="_blank" rel="noreferrer" data-i18n-attr="aria-label:contact.channels.telegram" data-i18n-attr-title="title:contact.channels.telegram" aria-label="Telegram" title="Telegram" data-fade-delay="400" data-astro-cid-h2ja5j4y>   <span class="glyph" data-astro-cid-h2ja5j4y><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" data-astro-cid-h2ja5j4y><path d="M22 2 2 12l7 2 2 7 11-19Z" data-astro-cid-h2ja5j4y></path><path d="M9 12 22 2M9 12l3 3" data-astro-cid-h2ja5j4y></path></svg></span>  <span class="label" data-i18n="contact.channels.telegram" data-astro-cid-h2ja5j4y>Telegram</span> </a><a class="icon fade-in-item" href="mailto:tinnh.pyn@gmail.com" target="_blank" rel="noreferrer" data-i18n-attr="aria-label:contact.channels.email" data-i18n-attr-title="title:contact.channels.email" aria-label="Email" title="Email" data-fade-delay="600" data-astro-cid-h2ja5j4y>    <span class="glyph" data-astro-cid-h2ja5j4y><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" data-astro-cid-h2ja5j4y><rect x="3" y="6" width="18" height="12" rx="2" data-astro-cid-h2ja5j4y></rect><path d="m3 7 9 6 9-6" data-astro-cid-h2ja5j4y></path></svg></span> <span class="label" data-i18n="contact.channels.email" data-astro-cid-h2ja5j4y>Email</span> </a> </div> </section>  </div> </div>  <script>
    const MOBILE_BREAKPOINT = 768;
    
    // Check if mobile
    function isMobile() {
      return window.innerWidth < MOBILE_BREAKPOINT;
    }

    // Options cấu hình
    const initOptions = {
      anchors: ['home', 'du-an', 'kinh-nghiem', 'lien-he'],
      navigation: true,
      scrollingSpeed: 800,
      loopBottom: true
    };

    const anchors = ['home', 'du-an', 'kinh-nghiem', 'lien-he'];

    // Store scroll handler reference to prevent accumulation
    let mobileScrollHandler = null;
    
    // Store animation observer references for cleanup
    let animationObservers = [];

    // Setup mobile layout (normal scroll)
    function setupMobileLayout() {
      const fullpage = document.getElementById('fullpage');
      if (!fullpage) return;

      // Add mobile class to body for CSS
      document.body.classList.add('mobile-layout');
      document.documentElement.classList.add('mobile-layout');


      // Disable any fullpage.js event listeners
      if (window.vanillaFullpage) {
        try {
          if (window.vanillaFullpage.destroy) {
            window.vanillaFullpage.destroy();
          }
        } catch (e) {
          console.warn('Error destroying fullpage:', e);
        }
        window.vanillaFullpage = null;
      }

      // Remove fullpage classes that might interfere
      fullpage.classList.remove('fp-enabled', 'fp-vertical', 'fp-responsive');
      
      // Reset fullpage container styles
      fullpage.style.cssText = 'position: static !important; height: auto !important; overflow: visible !important; transform: none !important;';

      // Show all sections
      const sections = fullpage.querySelectorAll('.section');
      sections.forEach((section) => {
        section.style.cssText = 'position: relative !important; height: auto !important; min-height: auto !important; opacity: 1 !important; visibility: visible !important; display: flex !important; pointer-events: auto !important; transform: none !important; transition: none !important; overflow: visible !important; top: auto !important; left: auto !important; margin: 0 !important; padding: 0 !important;';
        section.classList.remove('active', 'next', 'prev', 'fp-completely');
      });

      // Setup native smooth scroll for hash links (only if not already set up)
      if (!document.body.hasAttribute('data-mobile-links-setup')) {
        const anchorLinks = document.querySelectorAll('a[href^="#"]');
        anchorLinks.forEach((link) => {
          // Skip if listener already attached
          if (link.hasAttribute('data-mobile-link-handled')) return;
          link.setAttribute('data-mobile-link-handled', 'true');
          link.addEventListener('click', (e) => {
            const href = link.getAttribute('href') || '';
            const target = href.replace('#', '');
            if (anchors.includes(target)) {
              const targetElement = document.getElementById(target);
              if (targetElement) {
                e.preventDefault();
                targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                // Update URL hash
                window.history.pushState(null, '', href);
                // Update sidebar active state
                updateSidebarActive(target);
              }
            }
          });
        });
        document.body.setAttribute('data-mobile-links-setup', 'true');
      }

      // Setup sidebar navigation for mobile (only if not already set up)
      const sidebarItems = document.querySelectorAll('.sidebar-list li');
      sidebarItems.forEach((item) => {
        const button = item.querySelector('button');
        const anchor = item.getAttribute('data-menuanchor');
        if (button && anchor) {
          // Skip if listener already attached
          if (button.hasAttribute('data-mobile-sidebar-handled')) return;
          button.setAttribute('data-mobile-sidebar-handled', 'true');
          button.addEventListener('click', (e) => {
            e.preventDefault();
            const targetElement = document.getElementById(anchor);
            if (targetElement) {
              targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
              window.history.pushState(null, '', `#${anchor}`);
              updateSidebarActive(anchor);
            }
          });
        }
      });


      // Clone sidebar-nav to sidebar-nav-mobile
      const sidebarNav = document.querySelector('.sidebar-nav');
      const sidebarNavMobile = document.querySelector('.sidebar-nav-mobile');
      if (sidebarNav && sidebarNavMobile && sidebarNavMobile.children.length === 0) {
        sidebarNavMobile.innerHTML = sidebarNav.innerHTML;
        
        // Fix duplicate ID issues - change mobile element IDs
        const clonedLangSwitcher = sidebarNavMobile.querySelector('#lang-switcher');
        if (clonedLangSwitcher) {
          clonedLangSwitcher.id = 'lang-switcher-mobile';
        }
        
        const clonedSidebar = sidebarNavMobile.querySelector('#sidebar');
        if (clonedSidebar) {
          clonedSidebar.id = 'sidebar-mobile';
        }
        
        // Re-attach event listeners for cloned sidebar items (only once)
        const clonedSidebarItems = sidebarNavMobile.querySelectorAll('.sidebar-list li');
        clonedSidebarItems.forEach((item) => {
          const button = item.querySelector('button');
          const anchor = item.getAttribute('data-menuanchor');
          if (button && anchor) {
            // Skip if listener already attached
            if (button.hasAttribute('data-mobile-cloned-handled')) return;
            button.setAttribute('data-mobile-cloned-handled', 'true');
            button.addEventListener('click', (e) => {
              e.preventDefault();
              const targetElement = document.getElementById(anchor);
              if (targetElement) {
                targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                window.history.pushState(null, '', `#${anchor}`);
                updateSidebarActive(anchor);
              }
            });
          }
        });

        // Re-attach lang-switcher click handler for mobile
        // Re-query using the new ID to ensure we have a fresh, valid reference
        const mobileLangSwitcher = sidebarNavMobile.querySelector('#lang-switcher-mobile');
        if (mobileLangSwitcher && !mobileLangSwitcher.hasAttribute('data-mobile-lang-handled')) {
          mobileLangSwitcher.setAttribute('data-mobile-lang-handled', 'true');
          mobileLangSwitcher.addEventListener('click', function(e) {
            let target = e.target;
            while (target && target !== mobileLangSwitcher) {
              if (target.classList && target.classList.contains('lang-option')) {
                const lang = target.dataset.lang;
                if (lang === 'vi' || lang === 'en') {
                  e.preventDefault();
                  e.stopPropagation();
                  localStorage.setItem('lang', lang);
                  const event = new CustomEvent('langchange', { 
                    detail: { lang: lang },
                    bubbles: true,
                    cancelable: true
                  });
                  window.dispatchEvent(event);
                  return;
                }
              }
              target = target.parentElement;
            }
          });
        }

        // Sync active state after cloning
        const hash = window.location.hash.replace('#', '');
        const currentAnchor = hash && anchors.includes(hash) ? hash : 'home';
        updateSidebarActive(currentAnchor);
        
        // Set initial active state for mobile language switcher
        if (typeof window.getCurrentLang === 'function' && typeof window.setActiveLang === 'function') {
          const currentLang = window.getCurrentLang();
          window.setActiveLang(currentLang);
        }
      }

      // Update active state on scroll (for mobile)
      // Remove existing scroll listener if it exists to prevent accumulation
      if (mobileScrollHandler) {
        window.removeEventListener('scroll', mobileScrollHandler, { passive: true });
        mobileScrollHandler = null;
      }

      let scrollTimeout;
      mobileScrollHandler = function handleScroll() {
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
          const sections = document.querySelectorAll('.section');
          let currentSection = '';
          let minDistance = Infinity;
          
          // Find the section that is most visible in viewport
          sections.forEach((section) => {
            const rect = section.getBoundingClientRect();
            const sectionId = section.id;
            
            if (anchors.includes(sectionId)) {
              // Calculate how much of the section is visible
              const visibleTop = Math.max(0, rect.top);
              const visibleBottom = Math.min(window.innerHeight, rect.bottom);
              const visibleHeight = Math.max(0, visibleBottom - visibleTop);
              
              // Prefer section that is closer to top of viewport and has significant visibility
              if (visibleHeight > window.innerHeight * 0.3) {
                const distanceFromTop = Math.abs(rect.top);
                if (distanceFromTop < minDistance) {
                  minDistance = distanceFromTop;
                  currentSection = sectionId;
                }
              }
            }
          });
          
          // Fallback: if no section is significantly visible, use the one closest to top
          if (!currentSection) {
            sections.forEach((section) => {
              const rect = section.getBoundingClientRect();
              const sectionId = section.id;
              if (anchors.includes(sectionId) && rect.top >= 0 && rect.top < window.innerHeight) {
                const distance = rect.top;
                if (distance < minDistance) {
                  minDistance = distance;
                  currentSection = sectionId;
                }
              }
            });
          }
          
          if (currentSection && anchors.includes(currentSection)) {
            updateSidebarActive(currentSection);
          }
        }, 150);
      };
      window.addEventListener('scroll', mobileScrollHandler, { passive: true });

      // Handle hash on page load
      const hash = window.location.hash.replace('#', '');
      if (hash && anchors.includes(hash)) {
        setTimeout(() => {
          const targetElement = document.getElementById(hash);
          if (targetElement) {
            targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        }, 100);
      }

      // Cleanup existing animation observers before setting up new ones
      cleanupAnimationObservers();
      
      // Initialize fade-in animations for mobile
      setTimeout(() => {
        initSlideInAnimations();
      }, 300);
    }

    // Cleanup animation observers
    function cleanupAnimationObservers() {
      animationObservers.forEach(observer => {
        try {
          observer.disconnect();
        } catch (e) {
          console.warn('Error disconnecting observer:', e);
        }
      });
      animationObservers = [];
    }

    // Destroy mobile layout (cleanup)
    function destroyMobileLayout() {
      document.body.classList.remove('mobile-layout');
      document.documentElement.classList.remove('mobile-layout');
      const sections = document.querySelectorAll('.section');
      sections.forEach((section) => {
        section.style.cssText = '';
      });
      
      // Remove scroll listener to prevent memory leaks
      if (mobileScrollHandler) {
        window.removeEventListener('scroll', mobileScrollHandler, { passive: true });
        mobileScrollHandler = null;
      }
      
      // Cleanup animation observers
      cleanupAnimationObservers();
      
      // Note: We keep data attributes to prevent re-attaching listeners if switching back to mobile
      // The listeners will still work, and the attributes prevent accumulation
    }

    // Khởi tạo VanillaFullpage khi DOM ready và script đã load
    function initFullpage() {
      // Check if mobile - don't initialize fullpagejs on mobile
      if (isMobile()) {
        setupMobileLayout();
        return;
      }

      // Kiểm tra xem class đã được load chưa
      if (typeof VanillaFullpage === 'undefined') {
        // Nếu chưa load, thử lại sau 100ms
        setTimeout(initFullpage, 100);
        return;
      }

      try {
        // Khởi tạo VanillaFullpage
        window.vanillaFullpage = new VanillaFullpage('#fullpage', initOptions);

        // Gắn handler cho các anchor CTA để cuộn đúng section
        const anchorLinks = document.querySelectorAll('a[href^="#"]');
        anchorLinks.forEach((link) => {
          link.addEventListener('click', (e) => {
            const href = link.getAttribute('href') || '';
            const target = href.replace('#', '');
            const idx = anchors.indexOf(target);
            if (idx !== -1 && window.vanillaFullpage) {
              e.preventDefault();
              window.vanillaFullpage.goToSection(idx);
              // Update active state
              updateSidebarActive(target);
            }
          });
        });

        // Handle sidebar navigation clicks
        const sidebarItems = document.querySelectorAll('.sidebar-list li');
        sidebarItems.forEach((item) => {
          const button = item.querySelector('button');
          const anchor = item.getAttribute('data-menuanchor');
          if (button && anchor) {
            button.addEventListener('click', (e) => {
              e.preventDefault();
              const idx = anchors.indexOf(anchor);
              if (idx !== -1 && window.vanillaFullpage) {
                window.vanillaFullpage.goToSection(idx);
                // Update active state immediately
                updateSidebarActive(anchor);
              }
            });
          }
        });

        // Function to check and update active section
        function checkActiveSection() {
          const sections = document.querySelectorAll('.section');
          sections.forEach((section, index) => {
            if (section.classList.contains('active')) {
              const anchor = anchors[index];
              if (anchor) {
                updateSidebarActive(anchor);
              }
            }
          });
        }

        // Update active state on section change using MutationObserver
        const observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
              checkActiveSection();
            }
          });
        });

        // Observe all sections for class changes
        const sections = document.querySelectorAll('.section');
        sections.forEach((section) => {
          observer.observe(section, {
            attributes: true,
            attributeFilter: ['class']
          });
        });

        // Also check periodically as fallback
        setInterval(checkActiveSection, 500);

        // Initial check
        setTimeout(checkActiveSection, 200);

        // Check if mobile layout
        function isMobileLayout() {
          return document.body.classList.contains('mobile-layout');
        }

        // Reset animations for a section (remove visible classes)
        // Only for desktop - mobile keeps animations as is
        function resetSectionAnimation(section) {
          // Only reset on desktop
          if (isMobileLayout()) return;
          
          if (section) {
            const slideElements = section.querySelectorAll('[data-slide-in]');
            slideElements.forEach(slideElement => {
              slideElement.classList.remove('slide-in-visible');
            });
            
            const fadeItems = section.querySelectorAll('.fade-in-item');
            fadeItems.forEach((item) => {
              item.classList.remove('fade-in-visible');
            });
          }
        }

        // Initialize fade-in animations for desktop
        // Trigger animations when section becomes active (user scrolls to it)
        function triggerActiveSectionAnimation() {
          const activeSection = document.querySelector('.section.active');
          if (activeSection) {
            const slideElements = activeSection.querySelectorAll('[data-slide-in]');
            const fadeItems = activeSection.querySelectorAll('.fade-in-item');
            
            // Only reset and replay on desktop
            if (!isMobileLayout()) {
              // First reset animation to allow it to play again (desktop only)
              slideElements.forEach(slideElement => {
                slideElement.classList.remove('slide-in-visible');
              });
              
              fadeItems.forEach((item) => {
                item.classList.remove('fade-in-visible');
              });
              
              // Then trigger animation after a small delay to ensure reset is complete
              // Apply stagger delay similar to other sections (200ms between items)
              setTimeout(() => {
                slideElements.forEach((slideElement, index) => {
                  const delay = index * 200; // Stagger delay: 0ms, 200ms, 400ms...
                  setTimeout(() => {
                    slideElement.classList.add('slide-in-visible');
                  }, delay);
                });
                
                fadeItems.forEach((item) => {
                  const delay = parseInt(item.getAttribute('data-fade-delay') || '0');
                  setTimeout(() => {
                    item.classList.add('fade-in-visible');
                  }, delay + 200);
                });
              }, 50);
            } else {
              // Mobile: only add if not already visible (one-time animation)
              // Apply stagger delay similar to other sections (200ms between items)
              slideElements.forEach((slideElement, index) => {
                if (!slideElement.classList.contains('slide-in-visible')) {
                  const delay = index * 200; // Stagger delay: 0ms, 200ms, 400ms...
                  setTimeout(() => {
                    slideElement.classList.add('slide-in-visible');
                  }, delay);
                }
              });
              
              fadeItems.forEach((item) => {
                if (!item.classList.contains('fade-in-visible')) {
                  const delay = parseInt(item.getAttribute('data-fade-delay') || '0');
                  setTimeout(() => {
                    item.classList.add('fade-in-visible');
                  }, delay + 200);
                }
              });
            }
          }
        }

        // Cleanup existing animation observers before setting up new ones
        cleanupAnimationObservers();
        
        // Initialize animations
        initSlideInAnimations();

        // Trigger animation for initial active section after a short delay
        // This ensures animations work on first page load
        setTimeout(() => {
          triggerActiveSectionAnimation();
        }, 300);

        // Track if this is the first time (initial load) - but we still want to trigger initial section
        let isInitialLoad = true;

        // Trigger animation when section changes
        const sectionObserver = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
              const target = mutation.target;
              const wasActive = mutation.oldValue && mutation.oldValue.includes('active');
              const isActive = target.classList.contains('active');
              
              // Skip triggering on initial load (we already triggered it above)
              if (isInitialLoad) {
                isInitialLoad = false;
                return;
              }
              
              // Only reset on desktop (mobile keeps animations as is)
              if (!isMobileLayout()) {
                // If section lost active class, reset its animations (desktop only)
                if (wasActive && !isActive) {
                  resetSectionAnimation(target);
                }
              }
              
              // If section became active, trigger animation
              if (!wasActive && isActive) {
                triggerActiveSectionAnimation();
              }
            }
          });
        });

        sections.forEach((section) => {
          sectionObserver.observe(section, {
            attributes: true,
            attributeFilter: ['class'],
            attributeOldValue: true
          });
        });
      } catch (error) {
        console.error('Error initializing VanillaFullpage:', error);
        return;
      }

      // Xử lý hash URL khi trang load với hash (ví dụ: #lien-he)
      const hash = window.location.hash.replace('#', '');
      if (hash) {
        const index = anchors.indexOf(hash);
        if (index !== -1 && window.vanillaFullpage) {
          // Đợi một chút để đảm bảo fullpage đã khởi tạo xong
          setTimeout(() => {
            window.vanillaFullpage.goToSection(index);
            updateSidebarActive(hash);
            // Trigger animation after navigating to section
            setTimeout(() => {
              triggerActiveSectionAnimation();
            }, 200);
          }, 100);
        }
      } else {
        // Set home as active by default
        updateSidebarActive('home');
      }
    }

    // Function to update sidebar active state (both fixed and mobile)
    function updateSidebarActive(activeAnchor) {
      if (!activeAnchor || !anchors.includes(activeAnchor)) {
        return;
      }
      
      // Update both desktop (.sidebar-nav) and mobile (.sidebar-nav-mobile) sidebars
      const allSidebarLists = document.querySelectorAll('.sidebar-list');
      
      allSidebarLists.forEach((sidebarList) => {
        const sidebarItems = sidebarList.querySelectorAll('li');
        sidebarItems.forEach((item) => {
          item.classList.remove('active');
          if (item.getAttribute('data-menuanchor') === activeAnchor) {
            item.classList.add('active');
          }
        });
      });
    }

    // Initialize fade-in animations using Intersection Observer
    function initSlideInAnimations() {
      // Check if user prefers reduced motion
      const prefersReducedMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      
      if (prefersReducedMotion) {
        // Skip animations for users who prefer reduced motion
        const slideElements = document.querySelectorAll('[data-slide-in]');
        const fadeItems = document.querySelectorAll('.fade-in-item');
        slideElements.forEach(el => el.classList.add('slide-in-visible'));
        fadeItems.forEach(el => el.classList.add('fade-in-visible'));
        return;
      }

      // Check if we're on mobile or desktop
      const isMobileLayout = document.body.classList.contains('mobile-layout');
      
      // Helper function to calculate intersection ratio manually (more reliable on mobile)
      function calculateIntersectionRatio(element) {
        const rect = element.getBoundingClientRect();
        const viewportHeight = window.innerHeight;
        const viewportWidth = window.innerWidth;
        
        // Calculate visible area
        const visibleTop = Math.max(0, rect.top);
        const visibleBottom = Math.min(viewportHeight, rect.bottom);
        const visibleLeft = Math.max(0, rect.left);
        const visibleRight = Math.min(viewportWidth, rect.right);
        
        const visibleWidth = Math.max(0, visibleRight - visibleLeft);
        const visibleHeight = Math.max(0, visibleBottom - visibleTop);
        const visibleArea = visibleWidth * visibleHeight;
        
        const elementArea = rect.width * rect.height;
        
        if (elementArea === 0) return 0;
        return visibleArea / elementArea;
      }

      // Helper function to check if element is in active section (for desktop)
      function isInActiveSection(element) {
        if (isMobileLayout) return false; // Mobile doesn't use active sections
        const section = element.closest('.section');
        return section && section.classList.contains('active');
      }

      // Animate sections with data-slide-in
      const slideElements = document.querySelectorAll('[data-slide-in]');
      
      if (slideElements.length > 0) {
        if (isMobileLayout) {
          // MOBILE: Use IntersectionObserver for scroll-based detection
          const seenElements = new Set();
          
          // Use improved IntersectionObserver settings for better mobile detection
          const sectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting && entry.intersectionRatio > 0.2) {
                // Only trigger if element wasn't visible on initial load
                if (!seenElements.has(entry.target)) {
                  seenElements.add(entry.target);
                  // Small delay to ensure it's a real scroll/view action
                  setTimeout(() => {
                    if (entry.isIntersecting) {
                      entry.target.classList.add('slide-in-visible');
                    }
                  }, 50);
                  sectionObserver.unobserve(entry.target);
                }
              }
            });
          }, {
            threshold: [0.1, 0.2, 0.3], // Multiple thresholds for better detection
            rootMargin: '50px 0px' // Trigger 50px before element enters viewport
          });
          
          // Store observer reference for cleanup
          animationObservers.push(sectionObserver);
          
          // Mark elements that are already visible on initial load (using intersection ratio)
          // Only skip if element is more than 50% visible
          slideElements.forEach(el => {
            const intersectionRatio = calculateIntersectionRatio(el);
            if (intersectionRatio > 0.5) {
              seenElements.add(el);
              // Still add visible class for elements that are already visible
              el.classList.add('slide-in-visible');
            }
          });
          
          // Observe all sections - animation will trigger when they enter viewport
          slideElements.forEach(el => {
            if (!el.classList.contains('slide-in-visible')) {
              sectionObserver.observe(el);
            }
          });
          
          // Fallback: Check again after a short delay for elements that might have been missed
          setTimeout(() => {
            slideElements.forEach(el => {
              if (!el.classList.contains('slide-in-visible')) {
                const intersectionRatio = calculateIntersectionRatio(el);
                if (intersectionRatio > 0.2) {
                  el.classList.add('slide-in-visible');
                  sectionObserver.unobserve(el);
                }
              }
            });
          }, 500);
        } else {
          // DESKTOP: Don't setup IntersectionObserver for slide-in elements
          // Desktop uses MutationObserver in initFullpage() to trigger animations
          // when sections become active. We just need to ensure initial section is handled.
          const activeSection = document.querySelector('.section.active');
          if (activeSection) {
            const slideElements = activeSection.querySelectorAll('[data-slide-in]');
            // Don't add visible class immediately - let MutationObserver handle it
            // This ensures animation triggers when user first navigates to section
          }
        }
      }

      // Animate project cards and other fade-in items with stagger
      const fadeItems = document.querySelectorAll('.fade-in-item');
      
      if (fadeItems.length > 0) {
        if (isMobileLayout) {
          // MOBILE: Use IntersectionObserver for scroll-based detection
          // Track items that were visible on initial load (to skip them)
          // Only skip if more than 50% visible
          const initiallyVisibleItems = new Set();
          
          // Check which items are already visible on page load using intersection ratio
          fadeItems.forEach(item => {
            const intersectionRatio = calculateIntersectionRatio(item);
            if (intersectionRatio > 0.5) {
              initiallyVisibleItems.add(item);
              // Still add visible class for items that are already visible
              item.classList.add('fade-in-visible');
            }
          });
          
          const itemObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting && entry.intersectionRatio > 0.2) {
                const item = entry.target;
                
                // Skip items that were visible on initial load
                if (initiallyVisibleItems.has(item)) {
                  itemObserver.unobserve(item);
                  return;
                }
                
                // Only trigger when item enters viewport (scrolled to)
                const delay = parseInt(item.getAttribute('data-fade-delay') || '0');
                setTimeout(() => {
                  item.classList.add('fade-in-visible');
                }, delay);
                itemObserver.unobserve(item);
              }
            });
          }, {
            threshold: [0.1, 0.2, 0.3], // Multiple thresholds for better detection
            rootMargin: '50px 0px' // Trigger 50px before element enters viewport
          });
          
          // Store observer reference for cleanup
          animationObservers.push(itemObserver);
          
          // Observe all items - will only trigger when they enter viewport
          fadeItems.forEach(el => {
            if (!el.classList.contains('fade-in-visible')) {
              itemObserver.observe(el);
            }
          });
          
          // Fallback: Check again after a short delay for items that might have been missed
          setTimeout(() => {
            fadeItems.forEach(item => {
              if (!item.classList.contains('fade-in-visible') && !initiallyVisibleItems.has(item)) {
                const intersectionRatio = calculateIntersectionRatio(item);
                if (intersectionRatio > 0.2) {
                  const delay = parseInt(item.getAttribute('data-fade-delay') || '0');
                  setTimeout(() => {
                    item.classList.add('fade-in-visible');
                  }, delay);
                  itemObserver.unobserve(item);
                }
              }
            });
          }, 500);
        } else {
          // DESKTOP: Don't setup IntersectionObserver for fade-in items
          // Desktop uses triggerActiveSectionAnimation() in initFullpage() to trigger
          // animations when sections become active. Fade-in items will be handled there.
          // We just need to ensure items in the initial active section are handled.
          const activeSection = document.querySelector('.section.active');
          if (activeSection) {
            // Items in active section will be triggered by triggerActiveSectionAnimation()
            // when user navigates to section, so we don't need to do anything here
          }
        }
      }
    }

    // Handle window resize
    let resizeTimeout;
    function handleResize() {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        const wasMobile = document.body.classList.contains('mobile-layout');
        const nowMobile = isMobile();

        if (wasMobile && !nowMobile) {
          // Resized from mobile to desktop
          destroyMobileLayout();
          if (typeof VanillaFullpage !== 'undefined' && !window.vanillaFullpage) {
            initFullpage();
          }
        } else if (!wasMobile && nowMobile) {
          // Resized from desktop to mobile
          if (window.vanillaFullpage) {
            // Destroy fullpagejs instance if possible
            if (window.vanillaFullpage.destroy) {
              window.vanillaFullpage.destroy();
            }
            window.vanillaFullpage = null;
          }
          setupMobileLayout();
        }
      }, 150);
    }

    // Khởi tạo khi DOM ready
    function init() {
      // Check mobile first and setup immediately
      if (isMobile()) {
        setupMobileLayout();
      } else {
        // Chỉ load fullpage.js script trên desktop
        const script = document.createElement('script');
        script.src = '/js/vanilla-fullpage.js';
        script.async = true;
        script.onload = function() {
          // Wait a bit for script to fully initialize
          setTimeout(initFullpage, 100);
        };
        document.head.appendChild(script);
      }
      window.addEventListener('resize', handleResize);
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      // Nếu DOM đã ready, chạy ngay
      setTimeout(init, 50);
    }
  </script>  </main> <!-- Mobile Bottom Navigation (fixed at bottom) --> <div class="sidebar-nav-mobile"></div> <script>(function(){const translationsVi = {"hero":{"name":"Nguyễn Hoàng Tín","role":"Full‑Stack Developer","summary":"Backend/Fullstack Developer chuyên phát triển hệ thống lớn, thành thạo .NET, Java/Spring Boot, Microservices, SQL/NoSQL, hướng đến dự án phức tạp và môi trường chuyên nghiệp.","badge":"Kỹ sư lập trình","buttons":{"viewProjects":"Dự án","contact":"Liên hệ","downloadCV":"Tải CV"},"highlights":{"frontend":"Frontend:","frontendContent":"Angular, Bootstrap, HTML/CSS/JS","backend":"Backend:","backendContent":".NET, Java, Spring Boot, Microservices, Oracle, MongoDB","devops":"DevOps & Tools:","devopsContent":"Git, Jira, Docker","english":"Tiếng Anh:","englishContent":"Đọc tài liệu kỹ thuật, giao tiếp công việc cơ bản","other":"Khác:","otherContent":"Thuyết trình, Giảng viên nội bộ, Scrum"},"avatarAlt":"Ảnh hồ sơ của Nguyễn Hoàng Tín"},"projects":{"title":"Dự án","labels":{"role":"Vai trò:","tools":"Công nghệ:","tasks":"Nhiệm vụ:","results":"Kết quả:"},"actions":{"viewDetail":"Xem chi tiết","close":"Đóng","backToProjects":"Quay lại dự án"},"sections":{"overview":"Tổng quan","gallery":"Hình ảnh"},"items":[{"id":"igate","name":"Hệ thống Thông tin Giải quyết Thủ tục Hành chính","period":"2025 – NAY","description":"Nền tảng dịch vụ công quy mô tỉnh trên kiến trúc microservices, tích hợp Cổng DVCQG.","role":"Fullstack Developer","tasks":["Tối ưu báo cáo và hỗ trợ vận hành hệ thống.","Hướng dẫn cán bộ, xử lý sự cố trong giai đoạn chuyển đổi mô hình chính quyền 02 cấp."],"impact":"Tối ưu thời gian lấy dữ liệu báo cáo từ 3 phút xuống 60 giây.","tools":["Angular","Java Spring Boot","MongoDB","Microservices"],"gallery":["/igate1.jpg","/igate2.jpg","/igate3.png"]},{"id":"ecabinet","name":"VNPT eCabinet - Phòng họp không giấy tờ","period":"2021 – 2025","description":"Giải pháp phòng họp không giấy cấp tỉnh, tích hợp phần cứng IoT với phần mềm quản lý.","role":"Trưởng nhóm triển khai","tasks":["Triển khai và vận hành hệ thống (phần cứng + phần mềm).","Điều phối nhóm 5 kỹ thuật viên, setup 1–2 kỳ họp/tháng.","Hỗ trợ kỹ thuật tại hiện trường, đảm bảo hệ thống hoạt động ổn định."],"impact":"Đảm bảo các kỳ họp HĐND ổn định, không sự cố CNTT trong 5 năm. Duy trì hợp đồng dịch vụ dài hạn cấp tỉnh.","tools":["C#",".NET Framework","Oracle","IoT"],"gallery":["/ecabinet1.jpg","/ecabinet2.jpg","/ecabinet3.jpg"]},{"id":"ioffice","name":"VNPT iOffice - Điều hành Văn bản","period":"2017 – 2024","description":"Hệ thống quản lý và điều hành văn bản quy mô lớn, tích hợp quản lý và cộng tác nội bộ.","role":"Fullstack Developer","tasks":["Phát triển và nâng cấp các chức năng core: luồng xử lý văn bản, phê duyệt, ký số, tìm kiếm.","Tối ưu hiệu năng truy vấn và xử lý nghiệp vụ trên hệ thống quy mô lớn.","Phối hợp phân tích yêu cầu, sửa lỗi và hỗ trợ vận hành trong quá trình triển khai."],"impact":"Tăng hiệu suất quản lý cho 10.000+ cán bộ. Phát triển và nâng cấp các chức năng core.","tools":["ASP.NET","C#","DevExpress","Oracle"],"gallery":["/ioffice1.jpg","/ioffice2.jpg","/ioffice3.jpg"]}],"galleryAlt":"Slide hình ảnh cho"},"timeline":{"title":"Kinh nghiệm","achievements":"Thành tựu:","items":[{"year":"2017 – NAY","company":"VNPT PHÚ YÊN - TẬP ĐOÀN BƯU CHÍNH VIỄN THÔNG VIỆT NAM","role":"NHÂN VIÊN GIẢI PHÁP CNTT / KỸ SƯ LẬP TRÌNH","tasks":["Tham gia phát triển và vận hành các hệ thống phần mềm quy mô tỉnh/thành.","Đảm nhiệm vai trò chính trong phát triển backend, tối ưu hiệu năng và hỗ trợ nghiệp vụ.","Tham gia các dự án lớn: Hệ thống Dịch vụ công, Văn bản điều hành, Hóa đơn điện tử, Phòng họp không giấy,...","Áp dụng các công cụ AI vào quy trình phát triển giúp rút ngắn thời gian coding 20–30%. Nâng cao chất lượng code, phát hiện lỗi tiềm ẩn và đảm bảo tuân thủ các quy tắc của dự án."],"achievements":["Đạt danh hiệu \"Chiến sỹ thi đua\" trong nhiều năm","Người lao động tiêu biểu năm 2021"]}]},"contact":{"title":"Hợp tác","description":"Cứ thoải mái liên hệ với tôi nếu bạn có bất kỳ câu hỏi nào.","channels":{"phone":"SĐT","zalo":"Zalo","telegram":"Telegram","email":"Email"}},"layout":{"title":"Nguyễn Hoàng Tín — Full‑Stack Developer","description":"Portfolio & CV online của Nguyễn Hoàng Tín"}};
const translationsEn = {"hero":{"name":"Tin NGUYEN HOANG","role":"Full‑Stack Developer","summary":"Backend/Fullstack Developer specializing in large-scale systems, proficient in .NET, Java/Spring Boot, Microservices, SQL/NoSQL, focused on complex projects and professional environments.","badge":"Software Engineer","buttons":{"viewProjects":"Projects","contact":"Contact","downloadCV":"Download CV"},"highlights":{"frontend":"Frontend:","frontendContent":"Angular, Bootstrap, HTML/CSS/JS","backend":"Backend:","backendContent":".NET, Java, Spring Boot, Microservices, Oracle, MongoDB","devops":"DevOps & Tools:","devopsContent":"Git, Jira, Docker","english":"English:","englishContent":"Technical documentation reading, basic work communication","other":"Other:","otherContent":"Presentation, Internal Trainer, Scrum"},"avatarAlt":"Profile photo of Nguyễn Hoàng Tín"},"projects":{"title":"Projects","labels":{"role":"Role:","tools":"Technologies:","tasks":"Tasks:","results":"Results:"},"actions":{"viewDetail":"View details","close":"Close","backToProjects":"Back to projects"},"sections":{"overview":"Overview","gallery":"Gallery"},"items":[{"id":"igate","name":"Administrative Procedure Resolution Information System","period":"2025 – PRESENT","description":"Provincial-scale public service platform on microservices architecture, integrated with National Public Service Portal.","role":"Fullstack Developer","tasks":["Optimize reports and support system operations.","Guide staff, handle incidents during the transition to 2-level government model."],"impact":"Optimized report data retrieval time from 3 minutes to 60 seconds.","tools":["Angular","Java Spring Boot","MongoDB","Microservices"],"gallery":["/igate1.jpg","/igate2.jpg","/igate3.png"]},{"id":"ecabinet","name":"VNPT eCabinet - Paperless Meeting Room","period":"2021 – 2025","description":"Provincial-level paperless meeting solution, integrating IoT hardware with management software.","role":"Deployment Team Lead","tasks":["Deploy and operate the system (hardware + software).","Coordinate a team of 5 technicians, setup 1–2 meetings/month.","Provide on-site technical support, ensure stable system operation."],"impact":"Ensured stable People's Council meetings, no IT incidents for 5 years. Maintained long-term provincial service contracts.","tools":["C#",".NET Framework","Oracle","IoT"],"gallery":["/ecabinet1.jpg","/ecabinet2.jpg","/ecabinet3.jpg"]},{"id":"ioffice","name":"VNPT iOffice - Document Management","period":"2017 – 2024","description":"Large-scale document management and execution system, integrated with internal management and collaboration.","role":"Fullstack Developer","tasks":["Develop and enhance core features: document workflow, approvals, digital signatures, and search.","Optimize performance for queries and business processing at scale.","Collaborate on requirement analysis, bug fixing, and operational support during deployment."],"impact":"Increased management efficiency for 10,000+ staff. Developed and upgraded core features.","tools":["ASP.NET","C#","DevExpress","Oracle"],"gallery":["/ioffice1.jpg","/ioffice2.jpg","/ioffice3.jpg"]}],"galleryAlt":"Image slide for"},"timeline":{"title":"Experience","achievements":"Achievements:","items":[{"year":"2017 – PRESENT","company":"VNPT PHÚ YÊN - VIETNAM POSTS AND TELECOMMUNICATIONS GROUP","role":"IT SOLUTION STAFF / SOFTWARE ENGINEER","tasks":["Participate in development and operation of provincial/city-scale software systems.","Take main role in backend development, performance optimization and business support.","Participate in major projects: Public Service System, Document Management, E-Invoice, Paperless Meeting,...","Apply AI tools to development process, reducing coding time by 20–30%. Improve code quality, detect potential errors and ensure project rule compliance."],"achievements":["Achieved \"Emulation Fighter\" title for multiple years","Outstanding Employee of 2021"]}]},"contact":{"title":"Collaboration","description":"Feel free to contact me if you have any questions.","channels":{"phone":"Phone","zalo":"Zalo","telegram":"Telegram","email":"Email"}},"layout":{"title":"Nguyễn Hoàng Tín — Full‑Stack Developer","description":"Portfolio & CV online of Nguyễn Hoàng Tín"}};

      // Language Switcher Script
      (function() {
        // Get current language
        function getCurrentLang() {
          if (typeof window === 'undefined') return 'vi';
          const urlParams = new URLSearchParams(window.location.search);
          const langParam = urlParams.get('lang');
          if (langParam === 'vi' || langParam === 'en') return langParam;
          const stored = localStorage.getItem('lang');
          return (stored === 'vi' || stored === 'en') ? stored : 'vi';
        }

        // Expose getCurrentLang globally so it can be called from other scripts
        window.getCurrentLang = getCurrentLang;

        // Set active state
        function setActiveLang(lang) {
          // Update both desktop and mobile switchers
          const switchers = [
            document.getElementById('lang-switcher'),
            document.getElementById('lang-switcher-mobile')
          ].filter(Boolean); // Remove null values
          
          switchers.forEach(switcher => {
            const options = switcher.querySelectorAll('.lang-option');
            options.forEach(opt => {
              if (opt.dataset.lang === lang) {
                opt.classList.add('active');
              } else {
                opt.classList.remove('active');
              }
            });
          });
        }

        // Expose setActiveLang globally so it can be called from other scripts
        window.setActiveLang = setActiveLang;


        // Initialize on load
        function init() {
          setActiveLang(getCurrentLang());

          // Handle click using event delegation
          setupClickHandler();
        }

        function setupClickHandler() {
          const switcher = document.getElementById('lang-switcher');
          if (!switcher) {
            // Retry if not ready yet
            setTimeout(setupClickHandler, 100);
            return;
          }
          
          // Use event delegation - attach to button, handle clicks on children
          switcher.addEventListener('click', function(e) {
            // Find the clicked lang-option
            let target = e.target;
            
            // Traverse up to find lang-option
            while (target && target !== switcher) {
              if (target.classList && target.classList.contains('lang-option')) {
                const lang = target.dataset.lang;
                if (lang === 'vi' || lang === 'en') {
                  e.preventDefault();
                  e.stopPropagation();
                  
                  console.log('Language switcher clicked, switching to:', lang);
                  
                  // Save to localStorage
                  localStorage.setItem('lang', lang);
                  
                  // Dispatch event with bubbles and cancelable
                  const event = new CustomEvent('langchange', { 
                    detail: { lang: lang },
                    bubbles: true,
                    cancelable: true
                  });
                  
                  const dispatched = window.dispatchEvent(event);
                  console.log('Event dispatched:', dispatched, 'Event detail:', event.detail);
                  
                  return;
                }
              }
              target = target.parentElement;
            }
          });
        }

        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', init);
        } else {
          init();
        }
      })();

      // Language switching client-side script
      (function() {
        // @ts-ignore - translationsVi and translationsEn are injected via define:vars
        // eslint-disable-next-line @typescript-eslint/no-unused-vars
        const translations = {
          // @ts-ignore
          vi: translationsVi,
          // @ts-ignore
          en: translationsEn
        };

        // Update text content
        function updateTextContent(element, translations, path) {
          const keys = path.split('.');
          let value = translations;
          for (const key of keys) {
            if (value && typeof value === 'object') {
              // Handle array indices (numeric keys)
              const numKey = parseInt(key, 10);
              if (!isNaN(numKey) && Array.isArray(value)) {
                value = value[numKey];
              } else {
                value = value[key];
              }
            } else {
              return;
            }
          }
          
          if (typeof value === 'string') {
            element.textContent = value;
          }
        }

        // Update all translatable elements
        function updatePageContent(lang) {
          const langTranslations = translations[lang] || translations.vi;
          
          // Update HTML lang attribute
          document.documentElement.lang = lang;
          
          // Update elements with data-i18n attribute
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const path = element.getAttribute('data-i18n');
            if (path) {
              updateTextContent(element, langTranslations, path);
            }
          });

          // Helper function to get translation value by path
          function getTranslationByPath(translations, path) {
            const keys = path.split('.');
            let value = translations;
            for (const key of keys) {
              if (value && typeof value === 'object') {
                const numKey = parseInt(key, 10);
                if (!isNaN(numKey) && Array.isArray(value)) {
                  value = value[numKey];
                } else {
                  value = value[key];
                }
              } else {
                return null;
              }
            }
            return typeof value === 'string' ? value : null;
          }

          // Update elements with data-i18n-attr (for attributes like alt, title, etc.)
          document.querySelectorAll('[data-i18n-attr]').forEach(element => {
            const attrData = element.getAttribute('data-i18n-attr');
            if (attrData) {
              try {
                const [attr, path] = attrData.split(':');
                const value = getTranslationByPath(langTranslations, path);
                
                if (value && attr) {
                  // Check if there's dynamic content path to fetch
                  const dynamicPath = element.getAttribute('data-i18n-dynamic-path');
                  const dynamicSuffix = element.getAttribute('data-i18n-dynamic-suffix') || '';
                  
                  if (dynamicPath) {
                    // Get the translated dynamic content
                    const dynamicValue = getTranslationByPath(langTranslations, dynamicPath);
                    if (dynamicValue) {
                      element.setAttribute(attr, `${value} ${dynamicValue}${dynamicSuffix}`);
                    } else {
                      element.setAttribute(attr, value);
                    }
                  } else {
                    // Check for old data-i18n-dynamic (static value) for backward compatibility
                    const dynamicContent = element.getAttribute('data-i18n-dynamic');
                    if (dynamicContent) {
                      element.setAttribute(attr, `${value} ${dynamicContent}${dynamicSuffix}`);
                    } else {
                      element.setAttribute(attr, value + dynamicSuffix);
                    }
                  }
                }
              } catch (e) {
                console.error('Error updating attribute:', e);
              }
            }
          });

          // Update elements with data-i18n-attr-title (for title attributes)
          document.querySelectorAll('[data-i18n-attr-title]').forEach(element => {
            const attrData = element.getAttribute('data-i18n-attr-title');
            if (attrData) {
              try {
                const [attr, path] = attrData.split(':');
                const value = getTranslationByPath(langTranslations, path);
                if (value && attr) {
                  element.setAttribute(attr, value);
                }
              } catch (e) {
                console.error('Error updating title attribute:', e);
              }
            }
          });

          // Save to localStorage
          localStorage.setItem('lang', lang);
          
          // Update URL without reload
          const url = new URL(window.location);
          url.searchParams.set('lang', lang);
          window.history.replaceState({}, '', url);
        }

        // Listen for language change events
        window.addEventListener('langchange', (e) => {
          const newLang = e.detail?.lang;
          if (newLang === 'vi' || newLang === 'en') {
            // Add fade transition
            document.body.style.transition = 'opacity 0.2s ease';
            document.body.style.opacity = '0.7';
            
            updatePageContent(newLang);
            
            // Update language switcher active state for both desktop and mobile
            setActiveLang(newLang);
            
            // Fade back in
            setTimeout(() => {
              document.body.style.opacity = '1';
            }, 50);
          }
        });

        // Initialize on load - use server-rendered language
        const initialLang = document.documentElement.lang || 'vi';
        if (initialLang === 'vi' || initialLang === 'en') {
          // Update from localStorage if different
          const storedLang = localStorage.getItem('lang');
          const currentLang = (storedLang === 'vi' || storedLang === 'en') ? storedLang : initialLang;
          if (currentLang !== initialLang) {
            updatePageContent(currentLang);
          }
        }
      })();
    })();</script> </body> </html>