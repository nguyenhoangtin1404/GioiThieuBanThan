---
const projects = [
  {
    name: 'Hệ thống quản lý văn bản điều hành',
    description:
      'VNPT iOffice tích hợp điều hành, quản lý, cộng tác và trao đổi nội bộ trong cùng một giao diện web, vận hành như mạng xã hội doanh nghiệp.',
    role: 'Kỹ sư phát triển giải pháp (Outsource)',
    impact: 'Chuẩn hoá báo cáo, liên thông LGSP/VXP và hỗ trợ lãnh đạo theo dõi nhắc việc realtime',
    tools: [
      'Biểu mẫu báo cáo thống kê xử lý văn bản',
      'Tích hợp LGSP & VXP',
      'Dashboard nhắc việc cho lãnh đạo',
      'Tối ưu thao tác người dùng'
    ],
    cover: 'https://images.unsplash.com/photo-1520607162513-77705c0f0d4a?auto=format&fit=crop&w=1000&q=80',
    gallery: [
      'https://images.unsplash.com/photo-1520607162513-77705c0f0d4a?auto=format&fit=crop&w=900&q=80',
      'https://images.unsplash.com/photo-1483058712412-4245e9b90334?auto=format&fit=crop&w=900&q=80',
      'https://images.unsplash.com/photo-1525182008055-f88b95ff7980?auto=format&fit=crop&w=900&q=80'
    ]
  },
  {
    name: 'eCabinet · Phòng họp không giấy',
    description:
      'Giải pháp quản lý tài liệu phòng họp không giấy, đồng bộ tài liệu họp giữa màn kế hoạch, danh sách và tìm kiếm theo thời gian thực.',
    role: 'Frontend Developer (Outsource)',
    impact: 'Luồng sắp xếp tài liệu thống nhất giúp lãnh đạo truy cập tài liệu ưu tiên nhanh hơn',
    tools: [
      'Kéo-thả',
      'Số thứ tự',
      'Đồng bộ realtime'
    ],
    cover: 'https://images.unsplash.com/photo-1519337265831-281ec6cc8514?auto=format&fit=crop&w=1000&q=80',
    gallery: [
      'https://images.unsplash.com/photo-1515169067868-5387ec356754?auto=format&fit=crop&w=900&q=80',
      'https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&w=900&q=80',
      'https://images.unsplash.com/photo-1531497865144-0464ef8fb9a9?auto=format&fit=crop&w=900&q=80'
    ]
  },
  {
    name: 'Một cửa điện tử & Dịch vụ công',
    description:
      'Nền tảng dịch vụ công được xây dựng trên kiến trúc microservices, cho phép mở rộng và nâng cấp linh hoạt với khả năng chịu tải cao. Ứng dụng được đóng gói bằng Docker và triển khai trên Kubernetes để đảm bảo tính ổn định và hiệu quả trong vận hành.',
    role: 'Full‑stack Developer',
    impact:
      'Tối ưu hoá dữ liệu báo cáo. Mở rộng phạm vi lấy dữ liệu.',
    tools: [
      'Microservices',
      'Docker',
      'Kubernetes',
      'API Gateway',
      'Dịch vụ công'
    ],
    cover: 'https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=1000&q=80',
    gallery: [
      'https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=900&q=80',
      'https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=900&q=80',
      'https://images.unsplash.com/photo-1454165205744-3b78555e5572?auto=format&fit=crop&w=900&q=80'
    ]
  }
];
---

<section id="du-an" class="section">
  <header>
    <p class="eyebrow">Dự án nổi bật</p>
    <h2>Từ kiến trúc tới production</h2>
  </header>
  <div class="list">
    {projects.map((project) => (
      <article class="project">
        <img src={project.cover} alt={`Ảnh minh hoạ dự án ${project.name}`} loading="lazy" />
        <div class="head">
          <h3>{project.name}</h3>
          <p>{project.description}</p>
        </div>
        <div class="meta-row">
          <p><strong>Vai trò:</strong> {project.role}</p>
          <p class="impact">{project.impact}</p>
        </div>
        <ul>
          {project.tools.map((tag) => (
            <li>{tag}</li>
          ))}
        </ul>
        <div class="gallery" role="region" aria-label={`Slide hình ảnh cho ${project.name}`}>
          {project.gallery.map((image, index) => (
            <figure>
              <img src={image} alt={`Slide ${index + 1} của ${project.name}`} loading="lazy" />
            </figure>
          ))}
        </div>
      </article>
    ))}
  </div>
</section>

<style>
  .section {
    margin-top: 5rem;
  }

  header .eyebrow {
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--muted);
    font-size: 0.8rem;
    margin-bottom: 0.25rem;
  }

  header h2 {
    margin-top: 0;
    font-size: clamp(2rem, 4vw, 2.8rem);
    position: relative;
  }

  header h2::after {
    content: '';
    display: block;
    width: 56px;
    height: 4px;
    border-radius: 999px;
    background: var(--accent);
    margin-top: 0.5rem;
  }

  .list {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  @media (min-width: 768px) {
    .list {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (min-width: 1024px) {
    .list {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }

  .project {
    padding: 1.75rem;
    border-radius: 24px;
    background: var(--card);
    border: 1px solid var(--border);
    display: grid;
    gap: 1rem;
    box-shadow: var(--shadow-sm);
    height: 100%;
  }

  .project img {
    width: 100%;
    height: 220px;
    object-fit: cover;
    border-radius: 18px;
    border: 1px solid var(--border);
  }

  .head h3 {
    margin: 0 0 0.5rem;
    font-size: 1.5rem;
  }

  .head p {
    margin: 0;
    color: var(--muted);
    line-height: 1.6;
  }

  .meta-row {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: space-between;
    align-items: center;
  }

  .meta-row p {
    margin: 0;
    color: var(--muted);
  }

  .impact {
    font-weight: 600;
    color: var(--accent);
  }

  ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  li {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 40px;
    min-width: 96px;
    padding: 0 14px;
    border-radius: 999px;
    background: rgba(14, 165, 233, 0.12);
    font-size: 0.9rem;
    font-weight: 600;
    color: #075985;
    line-height: 1;
    white-space: nowrap;
  }

  .gallery {
    display: flex;
    gap: 0.75rem;
    overflow-x: auto;
    padding-bottom: 0.5rem;
    scroll-snap-type: x mandatory;
  }

  .gallery figure {
    margin: 0;
    min-width: clamp(200px, 45vw, 320px);
    border-radius: 16px;
    overflow: hidden;
    border: 1px solid var(--border);
    scroll-snap-align: start;
    background: rgba(15, 23, 42, 0.6);
  }

  .gallery img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    display: block;
  }

  @media (max-width: 640px) {
    .meta-row {
      flex-direction: column;
      align-items: flex-start;
    }
  }

  /* .case-link removed */
</style>
